<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NOX</title> 

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="icon" type="image/png" href="https://img.icons8.com/material-rounded/24/sparkles.png"> 

    <style>
        /* 1. 기본 레이아웃 및 스크롤 설정 */
        html { overflow-x: hidden; height: 100%; background-color: #F2F2F2; }
        body {
            background-color: #F2F2F2; margin: 0; padding: 0;
            width: 100%; min-height: 100%; 
            display: flex; flex-direction: column; cursor: none; 
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
            font-family: 'GowoonDodum', sans-serif;
        }
        html::-webkit-scrollbar { width: 8px; }
        html::-webkit-scrollbar-track { background: #F2F2F2; }
        html::-webkit-scrollbar-thumb { background: #BCBCBC; border-radius: 10px; }
        body.no-scroll { overflow: hidden !important; }

        /* 2. 폰트 설정 */
        @font-face {
            font-family: 'GowoonDodum';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2108@1.1/GowunDodum-Regular.woff') format('woff');
        }
        @font-face {
            font-family: 'AmoreChristmas';
            src: url('fonts/Amore Christmas.otf') format('opentype');
        }

        /* 3. 커스텀 커서 */
        header a, nav a, .home-button, .circle-icon, .category-card, .modal-close-button, .external-link, .works-link, .menu-toggle, .filter-button { 
            cursor: none !important; 
        }
        .custom-cursor {
            width: 12px; height: 12px; border-radius: 50%;
            background-color: black; position: fixed; 
            pointer-events: none; z-index: 9999; 
            transform: translate(-50%, -50%); transition: transform 0.1s ease-out; 
        }
        
        /* 4. 헤더 및 네비게이션 */
        header { 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 5px 40px 19px 40px; 
            width: 100%; max-width: 1920px; margin: 0 auto; box-sizing: border-box;
            z-index: 1000; position: relative; opacity: 0; transform: translateY(-10px); 
            transition: opacity 1.2s ease-out, transform 1.2s ease-out; 
        }
        header.visible { opacity: 1; transform: translateY(0); }
        .circle-icon { width: 24px; height: 24px; background-color: black; border-radius: 50%; flex-shrink: 0; }
        
        nav { display: flex; align-items: center; }
        nav a, .works-link { 
            font-family: 'GowoonDodum', sans-serif; text-decoration: none; color: black; 
            font-size: 1.1em; margin-left: 25px; line-height: 1; display: block;
        }

        .menu-toggle { display: none; flex-direction: column; gap: 5px; background: none; border: none; padding: 10px; z-index: 1002; }
        .menu-toggle span { display: block; width: 25px; height: 2px; background-color: black; transition: 0.3s; }

        .works-dropdown-container { position: relative; display: inline-block; }
        .works-icons { 
            position: absolute; 
            top: 55%; 
            left: 50%; 
            transform: translateX(-50%); 
            margin-top: 10px; 
            display: flex; flex-direction: column; gap: 10px; 
            max-height: 0; overflow: hidden; opacity: 0; padding: 0;
            transition: all 0.4s ease-out; z-index: 1001; 
        }
        .works-icons.open { max-height: 350px; opacity: 1; padding: 5px 15px 15px 15px; }
        .works-item { 
            text-decoration: none; color: black; width: 100px; height: 45px; 
            display: flex; justify-content: center; align-items: center; 
            border: 1px solid black; border-radius: 25px; background-color: #F2F2F2; 
            opacity: 0; transform: translateY(10px); transition: all 0.4s ease-out;
        }
        .works-icons.open .works-item:nth-child(1) { transition-delay: 0.1s; opacity: 1; transform: translateY(0); }
        .works-icons.open .works-item:nth-child(2) { transition-delay: 0.2s; opacity: 1; transform: translateY(0); }
        .works-icons.open .works-item:nth-child(3) { transition-delay: 0.3s; opacity: 1; transform: translateY(0); }
        .works-item:hover { background-color: #dddddd; color: white; }
        .works-item p { font-family: 'GowoonDodum', sans-serif; font-size: 0.9em; margin: 0; color: inherit; }

        /* 5. 메인 콘텐츠 스타일 */
        .main-container {
            position: relative; flex-grow: 1; display: flex; flex-direction: column;
            width: 100%; max-width: 1920px; margin: 0 auto;
        }
        .page-title-container {
            display: flex; align-items: center; justify-content: center; gap: 1.5vw; 
            margin: 4vw 0 2vw 0; opacity: 0; transform: translateY(25px);
            transition: opacity 0.8s ease-out, transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .page-title-container.visible { opacity: 1; transform: translateY(0); }
        .page-title { font-family: 'AmoreChristmas', serif; font-size: clamp(40px, 7vw, 150px); line-height: 0.8; margin: 0; white-space: nowrap; }
        
        .sparkle-svg { width: clamp(15px, 2.7vw, 55px); height: auto; display: block; flex-shrink: 0; }
        #sparkle-1 { align-self: flex-start; margin-top: -1vw; }
        #sparkle-2 { align-self: flex-end; margin-bottom: -1vw; }

        .filter-container {
            display: flex; justify-content: center; 
            gap: clamp(8px, 1vw, 15px); 
            margin-bottom: 4vw; 
            opacity: 0; 
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .filter-container.visible { opacity: 1; transform: translateY(0); }
        .filter-button {
            padding: clamp(4px, 0.6vw, 10px) clamp(12px, 1.5vw, 28px); 
            border: 1.5px solid black; background-color: transparent;
            font-family: 'GowoonDodum', sans-serif; 
            font-size: clamp(11px, 0.8vw, 16px); 
            font-weight: bold;
            border-radius: 50px; transition: 0.3s;
            white-space: nowrap;
            color: black;
            box-sizing: border-box;
        }
        .filter-button.active { background-color: #888; color: black; border: 1.5px solid black; }

        /* 카테고리 그리드 */
        .category-section { width: 100%; display: flex; justify-content: center; z-index: 8; margin-bottom: 50px; }
        .category-grid { display: flex; gap: 20px; padding: 0 40px; box-sizing: border-box; width: 100%; flex-wrap: wrap; justify-content: center; }
        .card-group {
            display: flex; flex-direction: column; width: calc((100% - 40px) / 3); 
            text-align: center; margin-bottom: 40px; opacity: 0; 
            transform: translateY(40px); transition: all 0.5s ease-out;
        }
        .card-group.visible { opacity: 1; transform: translateY(0); }
        .card-group.hidden { display: none; } 

        .category-card {
            background-color: #F2F2F2; border-radius: 15px; width: 100%; position: relative; padding-top: 56.25%; 
            border: 2px solid black; transition: transform 0.3s; display: block; overflow: hidden; 
        }
        .category-card:hover { transform: translateY(-5px); }
        .category-card img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; border-radius: 13px; }
        .card-title { font-family: 'GowoonDodum', sans-serif; font-size: clamp(12px, 1.1vw, 24px); color: black; margin-top: 15px; }

        /* 6. 모달 스타일 */
        .detail-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(255, 255, 255, 0.95); backdrop-filter: blur(5px); z-index: 2000; display: flex; justify-content: center; align-items: flex-start; opacity: 0; visibility: hidden; transition: 0.4s; overflow-y: auto; }
        .detail-modal.visible { opacity: 1; visibility: visible; }
        .modal-content { background-color: #ffffff; width: 90%; max-width: 1000px; margin: 50px auto; border-radius: 15px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); position: relative; padding-bottom: 30px; }
        .modal-close-button { position: absolute; right: -10px; top: -10px; font-size: 40px; background-color: #ffffff; border: 2px solid #333; border-radius: 50%; width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; z-index: 2010; color: #333; }
        .modal-header { width: 100%; height: 0; padding-top: 56.25%; background-color: #E0E0E0; position: relative; }
        .modal-media { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
        
        .modal-media iframe { width: 100%; height: 100%; border: 0; }
        .sketchfab-embed-wrapper { width: 100%; height: 100%; }

        .modal-title { font-family: 'GowoonDodum', sans-serif; font-size: 2em; margin: 30px 40px 10px 40px; }
        
        /* 상세페이지 하단 별개 이미지 영역 */
        .modal-extra-image { width: 100%; padding: 0 40px; box-sizing: border-box; margin-top: 25px; text-align: center; }
        .modal-extra-image img { width: 100%; height: auto; display: block; margin: 0 auto; border-radius: 10px; }

        /* 상세페이지 소프트웨어 정보 영역 (최하단 고정용) */
        .modal-info { font-family: 'GowoonDodum', sans-serif; padding: 25px 40px 10px 40px; border-top: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; margin-top: 30px; }
        .modal-info p { margin: 0; }
        
        .external-link { text-decoration: none; color: #5e5e5e; font-weight: bold; display: flex; align-items: center; gap: 5px; }

        /* 7. 푸터 */
        footer { padding: 20px 40px; margin-top: auto; opacity: 0; transform: translateY(10px); transition: 1.2s ease-out; }
        footer.visible { opacity: 1; transform: translateY(0); }
        .divider-line { flex-grow: 1; height: 1px; background-color: #BCBCBC; margin: 0 10px; }
        .copyright { font-family: 'GowoonDodum', sans-serif; color: #555; font-size: 0.8em; text-align: right; }

        /* 8. 반응형 (모바일) */
        @media (max-width: 768px) {
            header { padding: 15px 25px; }
            .menu-toggle { display: flex; }
            nav { 
                position: fixed; top: 0; right: -100%; width: 100%; height: 100vh; 
                background-color: #F2F2F2; flex-direction: column; justify-content: center; 
                transition: 0.5s ease-in-out; z-index: 1001; visibility: hidden; 
            }
            nav.open { right: 0; visibility: visible; }
            
            nav a, .works-link { margin: 15px 0; font-size: 1.5em; margin-left: 0; }
            .works-dropdown-container { display: flex; flex-direction: column; align-items: center; }
            
            .works-icons { 
                position: static; transform: none; opacity: 1; max-height: none; 
                display: flex; flex-direction: column; align-items: center; 
                padding: 5px 0; margin-top: 0; 
            }
            .works-item { border: none; background: none; width: auto; height: auto; opacity: 1; transform: none; margin: 5px 0; transition: none; }
            .works-item p { font-size: 0.75em; color: #888; }
            
            .card-group { width: 90%; }
            .page-title-container { width: 100%; margin: 15vw 0 8vw 0; gap: 2.5vw; }
            
            .filter-container { margin-bottom: 10vw; gap: 1.5vw; }
            .filter-button { 
                padding: clamp(2px, 1.5vw, 15px) clamp(5px, 4vw, 35px); 
                font-size: clamp(5px, 3.5vw, 18px); 
                border: 1.5px solid black; min-width: 0; 
            }
            .filter-button.active { border: 1.5px solid black; }

            .page-title { font-size: clamp(10px, 13vw, 85px); line-height: 1; white-space: nowrap; } 
            .sparkle-svg { width: clamp(5px, 6vw, 35px); } 
            .card-title { font-size: clamp(10px, 4.2vw, 20px); } 
            .custom-cursor { display: none; }
            body { cursor: auto; }

            .modal-extra-image { padding: 0 20px; }
            .modal-info { padding: 20px; flex-direction: column; gap: 10px; align-items: flex-start; }
        }
    </style>
</head>
<body>
    <div class="custom-cursor"></div>

    <header id="header">
        <a href="index.html" class="home-button"><div class="circle-icon"></div></a>
        <button class="menu-toggle" id="menuToggle"><span></span><span></span><span></span></button>
        <nav id="navMenu">
            <a href="about.html">About</a> 
            <a href="contact.html">Contact</a> 
            <div class="works-dropdown-container" id="worksContainer">
                <p class="works-link">Works</p>
                <div class="works-icons" id="worksIcons">
                    <a href="2d_animation.html" class="works-item"><p>2D</p></a>
                    <a href="3d_animation.html" class="works-item"><p>3D</p></a>
                    <a href="assets.html" class="works-item"><p>Assets</p></a>
                </div>
            </div>
        </nav>
    </header>

    <div class="main-container">
        <main>
            <div class="page-title-container" id="pageTitleContainer">
                <img src="images/sparkle.svg" alt="sparkle" class="sparkle-svg" id="sparkle-1">
                <h1 class="page-title">assets</h1>
                <img src="images/sparkle.svg" alt="sparkle" class="sparkle-svg" id="sparkle-2">
            </div>

            <div class="filter-container" id="filterContainer">
                <button class="filter-button active" data-filter="all">ALL</button>
                <button class="filter-button" data-filter="CH">CH</button>
                <button class="filter-button" data-filter="BG">BG</button>
            </div>

            <section class="category-section">
                <div class="category-grid">
                    <div class="card-group" data-category="CH">
                        <a href="#" class="category-card" 
                           data-sketchfab-url="https://sketchfab.com/models/a49f1b8e4f5c4ecf9e1fe7d81915ad38/embed" 
                           data-title="CH - 01" 
                           data-software="Maya, Blender, Substance Painter" 
                           data-artstation-url="https://www.artstation.com/"
                           data-extra-img="images/ch_01_sheet.png"> 
                            <img src="images/ch_01_thumbnail.png" alt="Thumbnail">
                        </a>
                        <div class="card-title">CH - 01</div>
                    </div>
                    
                    <div class="card-group" data-category="BG">
                        <a href="#" class="category-card" 
                           data-sketchfab-url="https://sketchfab.com/models/a49f1b8e4f5c4ecf9e1fe7d81915ad38/embed" 
                           data-title="BG - 01" 
                           data-software="Maya, Blender, Substance Painter" 
                           data-artstation-url="https://www.artstation.com/"
                           data-extra-img="images/bg_01_sheet.png"> 
                            <img src="images/bg_01_thumbnail.png" alt="Thumbnail">
                        </a>
                        <div class="card-title">BG - 01</div>
                    </div>

                    <div class="card-group" data-category="CH">
                        <a href="#" class="category-card" 
                           data-sketchfab-url="https://sketchfab.com/models/a49f1b8e4f5c4ecf9e1fe7d81915ad38/embed" 
                           data-title="CH - 02" 
                           data-software="Maya, Blender, Substance Painter" 
                           data-artstation-url="https://www.artstation.com/"
                           data-extra-img="images/ch_02_sheet.png"> 
                            <img src="images/ch_02_thumbnail.png" alt="Thumbnail">
                        </a>
                        <div class="card-title">CH - 02</div> 
                    </div>

                    <div class="card-group" data-category="CH">
                        <a href="#" class="category-card" 
                           data-sketchfab-url="https://sketchfab.com/models/a49f1b8e4f5c4ecf9e1fe7d81915ad38/embed" 
                           data-title="CH - 03" 
                           data-software="Maya, Blender, Substance Painter" 
                           data-artstation-url="https://www.artstation.com/"
                           data-extra-img="images/ch_03_sheet.png"> 
                            <img src="images/ch_03_thumbnail.png" alt="Thumbnail">
                        </a>
                        <div class="card-title">CH - 03</div> 
                    </div>

                    <div class="card-group" data-category="BG">
                        <a href="#" class="category-card" 
                           data-sketchfab-url="https://sketchfab.com/models/a49f1b8e4f5c4ecf9e1fe7d81915ad38/embed" 
                           data-title="BG - 02" 
                           data-software="Maya, Blender, Substance Painter" 
                           data-artstation-url="https://www.artstation.com/"
                           data-extra-img="images/bg_02_sheet.png"> 
                            <img src="images/bg_02_thumbnail.png" alt="Thumbnail">
                        </a>
                        <div class="card-title">BG - 02</div> 
                    </div>

                    <div class="card-group" data-category="BG">
                        <a href="#" class="category-card" 
                           data-sketchfab-url="https://sketchfab.com/models/a49f1b8e4f5c4ecf9e1fe7d81915ad38/embed" 
                           data-title="BG - 03" 
                           data-software="Maya, Blender, Substance Painter" 
                           data-artstation-url="https://www.artstation.com/"
                           data-extra-img="images/bg_03_sheet.png"> 
                            <img src="images/bg_02_thumbnail.png" alt="Thumbnail">
                        </a>
                        <div class="card-title">BG - 03</div> 
                    </div>
                </div>
            </section>
        </main>

        <div id="detailModal" class="detail-modal">
            <div class="modal-content">
                <button class="modal-close-button">&times;</button>
                <h1 class="modal-title"></h1> 
                <div class="modal-header"><div class="modal-media"></div></div>
                <div class="modal-body">
                    <div id="modalExtraImage" class="modal-extra-image"></div>
                    <div class="modal-info"></div>
                </div>
            </div>
        </div>
    </div>

    <footer id="footer">
        <div style="display:flex; align-items:center; margin-bottom:15px;">
            <div style="width:8px; height:8px; background:#BCBCBC; border-radius:50%;"></div>
            <div class="divider-line"></div>
            <div style="width:8px; height:8px; background:#BCBCBC; border-radius:50%;"></div>
        </div>
        <p class="copyright">© 2025 NOX. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const cursor = document.querySelector('.custom-cursor');
            document.addEventListener('mousemove', (e) => {
                cursor.style.left = `${e.clientX}px`; cursor.style.top = `${e.clientY}px`;
            });

            setTimeout(() => { document.getElementById('header').classList.add('visible'); }, 200);
            setTimeout(() => { document.getElementById('pageTitleContainer').classList.add('visible'); }, 300);
            setTimeout(() => { document.getElementById('filterContainer').classList.add('visible'); }, 400);
            
            const cards = document.querySelectorAll('.card-group');
            cards.forEach((group, index) => {
                setTimeout(() => { group.classList.add('visible'); }, 500 + (index * 100));
            });
            setTimeout(() => { document.getElementById('footer').classList.add('visible'); }, 1200);

            // 필터링 기능
            const filterButtons = document.querySelectorAll('.filter-button');
            filterButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    filterButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    const filterValue = btn.getAttribute('data-filter');
                    cards.forEach(card => {
                        const cardCategory = card.getAttribute('data-category');
                        if (filterValue === 'all' || cardCategory === filterValue) {
                            card.classList.remove('hidden');
                            card.style.opacity = "0";
                            setTimeout(() => { card.style.opacity = "1"; }, 10);
                        } else {
                            card.classList.add('hidden');
                        }
                    });
                });
            });

            // 메뉴 토글
            const menuToggle = document.getElementById('menuToggle');
            const navMenu = document.getElementById('navMenu');
            const worksLink = document.querySelector('.works-link');
            const worksIcons = document.getElementById('worksIcons');

            function toggleScroll() {
                if (navMenu.classList.contains('open')) {
                    if (window.innerWidth <= 768) document.body.classList.add('no-scroll');
                } else {
                    document.body.classList.remove('no-scroll');
                }
            }

            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('open');
                toggleScroll();
            });

            worksLink.addEventListener('click', (e) => { 
                e.stopPropagation(); 
                worksIcons.classList.toggle('open'); 
            });

            document.addEventListener('click', (e) => {
                if (!menuToggle.contains(e.target) && !navMenu.contains(e.target)) {
                    navMenu.classList.remove('open');
                    worksIcons.classList.remove('open');
                    document.body.classList.remove('no-scroll');
                }
            });

            // 모달 로직
            const detailModal = document.getElementById('detailModal');
            const closeButton = document.querySelector('.modal-close-button');
            const modalTitle = document.querySelector('.modal-title');
            const modalMedia = document.querySelector('.modal-media');
            const modalInfo = document.querySelector('.modal-info');
            const modalExtraImage = document.getElementById('modalExtraImage');

            document.querySelectorAll('.category-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    e.preventDefault();
                    const { sketchfabUrl, title, software, artstationUrl, extraImg } = card.dataset;
                    
                    modalTitle.textContent = title;
                    
                    // 1. Sketchfab 설정
                    if (sketchfabUrl) {
                        modalMedia.innerHTML = `<div class="sketchfab-embed-wrapper"><iframe src="${sketchfabUrl}" frameborder="0" allowfullscreen allow="autoplay; fullscreen;"></iframe></div>`;
                    }

                    // 2. 별개 상세 이미지 설정 (data-extra-img 사용)
                    if (extraImg) {
                        modalExtraImage.innerHTML = `<img src="${extraImg}" alt="Detail Reference">`;
                    } else {
                        modalExtraImage.innerHTML = '';
                    }

                    // 3. 최하단 소프트웨어 정보 설정
                    let linkHtml = artstationUrl ? `<a href="${artstationUrl}" target="_blank" class="external-link"><i class="fab fa-artstation"></i> Artstation</a>` : '';
                    modalInfo.innerHTML = `<p><strong>Software:</strong> ${software}</p>${linkHtml}`;
                    
                    detailModal.classList.add('visible');
                    document.body.classList.add('no-scroll');
                });
            });

            const closeModal = () => { 
                detailModal.classList.remove('visible'); 
                modalMedia.innerHTML = ''; 
                modalExtraImage.innerHTML = ''; 
                document.body.classList.remove('no-scroll'); 
            };
            closeButton.addEventListener('click', closeModal);
            detailModal.addEventListener('click', (e) => { if(e.target === detailModal) closeModal(); });
        });
    </script>
</body>
</html>